<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
<script src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css' rel='stylesheet' />


    <title>Bus Tracker</title>
    <style>
      body { margin: 0; padding: 0; }  
      #map { position: absolute; top: 0; bottom: 0; width: 100%; }
      .map-overlay{
        position: absolute;
        left: 0;
        padding: 10px;
      }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="map-overlay top">
        <button style="font-size: 2em;"  onclick="move()">
       Bus Stops Between BricKtown OKC <br>
        and Integris Health SW OKC
        </button>
    </div>
    <script>
      
      mapboxgl.accessToken = 'pk.eyJ1IjoiZmlyZS11bml2ZXJzZSIsImEiOiJjbGdrMjRsc2EweDZqM3FzdnpocGE3dnF3In0.cnQaDuLOxMLehtSpE02MbA'

      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-97.5091, 35.466419 ],
        zoom: 12
      });

      let marker = new mapboxgl.Marker().setLngLat([-97.520031, 35.472451]).addTo(map);


      const busStops = [
        [-97.521239, 35.469318],
        [-97.521127, 35.467978],
        [-97.521203, 35.466611],
        [-97.521090, 35.463413],
        [-97.525490, 35.462186],
        [-97.529814, 35.462175],
        [-97.530030, 35.442681],
        [-97.530038, 35.439589],
        [-97.530168, 35.435265],
        [-97.530088, 35.433317],
        [-97.530098, 35.431352],
        [-97.530073, 35.428359],
        [-97.530125, 35.424875],
        [-97.530089, 35.421399]
        ];

      var counter = 0;
      function move(){
        setTimeout(() =>{
            if (counter >= busStops.length) return;
            marker.setLngLat(busStops[counter]);
            counter++;
            move();
        }, 1000);
      }


      if (typeof module !== 'undefined') {
        module.exports = { move, counter, marker, busStops };
      }
      

    </script>
</body>
</html>